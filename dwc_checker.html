<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Darwin Core Checker</title>
  <link rel="stylesheet" href="https://pyscript.net/releases/2025.3.1/core.css" />
  <script type="module" src="https://pyscript.net/releases/2025.3.1/core.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@2.18.1/plotly.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Loading wheel -->
<div id="loadingIndicator" class="text-center" style="display: block; margin-top: 20px;">
  <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
    <span class="sr-only">Loading...</span>
  </div>
  <p>Processing, please wait...</p>
</div>

<script>
  document.addEventListener("py:ready", () => {
    const loader = document.getElementById("loadingIndicator");
    if (loader) loader.style.display = "none";
  });
</script>

<div class="container my-4">

  <!-- Title box -->
  <div class="jumbotron text-center">
    <h1 class="display-4">Darwin Core Checker</h1>
  </div>

  <!-- Data upload -->
<div class="row align-items-center mb-4">
  <div class="col-md-3">
    <h5 class="mb-0">Upload your dataset:</h5>
  </div>

  <div class="col-md-3">
    <label class="btn btn-primary mb-0" style="cursor: pointer;">
      <i class="fa fa-upload"></i> Browse
      <input type="file" id="fileInput" style="display: none;" />
    </label>
    <small id="filename-display" class="text-muted ml-2" style="word-break: break-word;"></small>
  </div>


  <div class="col-md-3">
    <small id="filename-display" class="text-muted" style="word-break: break-word;"></small>
  </div>
</div>

  <hr class="section-divider" />

  <div class="row mb-3">
    <div class="col-md-3">
      <button id="runQcBtn" class="btn btn-success">Run Checker</button>
    </div>
    <div class="col-md-9">
      <div id="message" class="alert alert-info" style="display: none;"></div>
      <div id="defaultDataBtnContainer" style="display: none;">
        <button id="runExampleBtn" class="btn btn-outline-primary btn-sm mt-2">
          <i class="fa fa-play-circle"></i> Run with Example Dataset
        </button>
      </div>
    </div>
  </div>

<py-script src="./dwc_quick_check.py" config="./web_dwc_quick_check.toml"></py-script>
<script src="app.js"></script>

</body>
</html>
